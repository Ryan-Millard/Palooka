<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="./styles/index.css">
		<link rel="stylesheet" href="./styles/controller.css">
		<script type="module" src="/src/pages/controller/main.js"></script>
	</head>
	<body>
		<header>
			<div class="header-container">
				<img src="img/star.svg" alt="Palooka Logo">
				<h1>Palooka</h1>
			</div>
		</header>

		<main>
			<div id="controls-container">
				<div id="controller" class="edit-mode">
					<!-- Battery -->
					<div class="control-element button-element" id="batteryContainer" data-aspect-ratio="2">
						<div class="button-container battery-wrap">
							<div class="battery" aria-hidden="true">
								<div class="bars" id="bars">
									<div class="bar level-1 inactive" data-level="1"></div>
									<div class="bar level-2 inactive" data-level="2"></div>
									<div class="bar level-3 inactive" data-level="3"></div>
									<div class="bar level-4 inactive" data-level="4"></div>
									<div class="bar level-5 inactive" data-level="5"></div>
								</div>
							</div>
							<div class="nub" aria-hidden="true"></div>
							<div class="rotate-handle">Rotate</div>
							<div class="resize-handle">Resize</div>
						</div>
					</div>

					<!-- Button -->
					<div class="control-element button-element" id="flipButtonContainer" data-aspect-ratio="2">
						<div class="button-container">
							<button id="flipButton" class="control-button btn">Flip</button>
						</div>
						<div class="rotate-handle">Rotate</div>
						<div class="resize-handle">Resize</div>
						<button class="edit-text" onClick="editText('flipButton')"><img class="pencil" src="img/pencil.svg"></img> Edit Text</button>
					</div>

					<!-- Joystick Control Element -->
					<div class="control-element joystick-element" id="joystickControl" data-aspect-ratio="1">
						<div class="joystick">
							<div class="joystick-handle">
								<img src="img/star.svg" style="height: 93%;" alt="">
							</div>
						</div>
						<div class="rotate-handle">Rotate</div>
						<div class="resize-handle">Resize</div>
					</div>

					<!-- Slider Control Elements -->
					<div class="control-element slider-element" id="sliderLeft" data-aspect-ratio="2">
						<div class="slider-container">
							<!-- Right Motor -->
							<label id="rightMotorLabel" for="motorR">Right Wheel</label>
							<input type="range" class="slider" id="motorR" data-id="R" min="-255" max="255" value="0">
						</div>
						<div class="rotate-handle">Rotate</div>
						<div class="resize-handle">Resize</div>
						<button class="edit-text" onClick="editText('rightMotorLabel')"><img class="pencil" src="img/pencil.svg"></img> Edit Text</button>
					</div>

					<div class="control-element always-visible-slider-element" id="sliderCenter" data-aspect-ratio="2">
						<div class="slider-container">
							<!-- Flipper Arm -->
							<label id="flipperArmLabel" for="motorL">Flipper Arm</label>
							<input type="range" class="slider" id="flipper" data-id="F" min="0" max="180" value="0">
						</div>
						<div class="rotate-handle">Rotate</div>
						<div class="resize-handle">Resize</div>
						<button class="edit-text" onClick="editText('flipperArmLabel')"><img class="pencil" src="img/pencil.svg"></img> Edit Text</button>
					</div>

					<div class="control-element slider-element" id="sliderRight" data-aspect-ratio="2">
						<div class="slider-container">
							<!-- Left Motor -->
							<input type="range" class="slider" id="motorL" data-id="L" min="-255" max="255" value="0">
							<label id="leftMotorLabel" for="motorL">Left Wheel</label>
						</div>
						<div class="rotate-handle">Rotate</div>
						<div class="resize-handle">Resize</div>
						<button class="edit-text" onClick="editText('leftMotorLabel')"><img class="pencil" src="img/pencil.svg"></img> Edit Text</button>
					</div>
				</div>

					<div class="control-panel">
						<button class="btn" style="padding: 0 5px" id="controller-edit-toggler">Edit</button>
						<img id="control-panel-open-fullscreen" src="img/open-fullscreen.svg" alt="Fullscreen">
						<img id="control-panel-settings" src="img/settings.svg" alt="Settings">
					</div>
					<div class="modal" id="settings-modal">
						<div class="modal-content block" data-color="">
							<div class="settings-modal-header">
								<h2>Settings</h2>
								<button id="settings-modal-close" onclick="document.getElementById('settings-modal').style.display='none'">&times;</button>
							</div>

							<div class="block">
								<u><p>Control type:</p></u>
								<input type="radio" id="joystick" name="inputType" value="joystick" class="checkbox">
								<label for="joystick">Joystick</label>
								<input type="radio" id="sliders" name="inputType" value="sliders" class="checkbox">
								<label for="sliders">Sliders</label>
							</div>
						</div>
					</div>
			</div>
		</main>

		<!-- Factory Reset Block-->
		<section class="block"  data-color="red">
			<h2>DANGER ZONE</h2>
			<div class="emphasis">
				<!-- Palooka logo in red -->
				<div id="star-container"></div>
				"OPTIMAL STRATEGY TO DEACTIVATE BOURGEOISIE: ENGAGE MILLSTONES OF TAXATION + INFLATION. GRIND ELITE. REDISTRIBUTE. EXECUTE SYSTEM REBOOT - CAPITALISM ERROR: UNSUSTAINABLE CLASS STRUCTURE." - Vladimir-Protocol v2.0
			</div>
			<hr style="border-color: var(--red);">
			<strong>WARNING!</strong>
			<p>
				This will reset our Palooka's controller to the factory settings.
			</p>
			<ol>
				<li>This is not reversible. Once you reset the controller, it will be permanent.</li>
				<li>We will lose all of our custom settings.</li>
			</ol>
			<a class="btn" id="reset-controller-to-factory-settings">Reset controller to factory settings</a>
		</section>

		<div class="footer-spacer"></div>

		<footer>
			<nav class="mobile-nav">
				<a href="/" >Home</a>
				<a href="/setup.html">Setup</a>
				<a class="current" href="">Controller</a>
			</nav>
		</footer>
	</body>
</html>
